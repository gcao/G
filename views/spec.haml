!!!
%html
  %head
    %title Jasmine Spec Runner
    %link{:href => "/spec/jasmine/jasmine_favicon.png", :rel => "shortcut icon", :type => "image/png"}/
    %link{:href => "/spec/jasmine/jasmine.css", :rel => "stylesheet", :type => "text/css"}/
    %script{:src => "/spec/jasmine/jasmine.js", :type => "text/javascript"}
    %script{:src => "/spec/jasmine/jasmine-html.js", :type => "text/javascript"}
    %script{:src => "/js/jquery.js", :type => "text/javascript"}
    / include source files here...
    %script{:src => "/js/g.js", :type => "text/javascript"}
    / include spec files here...
    %script{:src => "/spec/g_spec.js", :type => "text/javascript"}
    :javascript
      (function() {
        var jasmineEnv = jasmine.getEnv();
        jasmineEnv.updateInterval = 1000;

        var trivialReporter = new jasmine.TrivialReporter();

        jasmineEnv.addReporter(trivialReporter);

        jasmineEnv.specFilter = function(spec) {
          return trivialReporter.specFilter(spec);
        };

        var currentWindowOnload = window.onload;

        window.onload = function() {
          if (currentWindowOnload) {
            currentWindowOnload();
          }
          execJasmine();
        };

        function execJasmine() {
          jasmineEnv.execute();
        }

      })();
    %body

